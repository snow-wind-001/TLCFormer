# OSFormer 默认配置文件

# 数据集配置
data:
  root_dir: ./data/RGBT-Tiny
  num_workers: 4
  
# 模型配置
model:
  num_frames: 5              # 输入视频帧数 T
  sample_frames: 3           # 采样帧数 S
  img_size: 640              # 图像尺寸
  num_classes: 1             # 类别数（二分类检测）
  embed_dim: 96              # VPA 嵌入维度
  depths: [2, 2, 6, 2]       # VPA 各阶段深度
  use_doppler: true          # 是否使用 Doppler 滤波
  anchor_free: true          # 是否使用 anchor-free 检测
  dropout: 0.1               # Dropout 概率

# 训练配置
train:
  batch_size: 8
  num_epochs: 50
  lr: 0.001                  # 学习率
  weight_decay: 0.05         # 权重衰减
  warmup_epochs: 5           # Warmup 轮数
  
  # 优化器
  optimizer: adamw
  betas: [0.9, 0.999]
  
  # 学习率调度
  scheduler: cosine
  min_lr: 0.00001
  
  # 混合精度训练
  amp: true
  
  # 梯度裁剪
  clip_grad: 1.0
  
  # 损失权重
  loss_weights:
    cls: 1.0
    bbox: 5.0
    centerness: 1.0
    offset: 2.0

# 评估配置
eval:
  batch_size: 4
  eval_interval: 5           # 评估间隔（epoch）
  score_thresh: 0.3          # 分数阈值
  nms_thresh: 0.5            # NMS 阈值

# 保存配置
save:
  checkpoint_dir: ./checkpoints
  log_dir: ./logs
  save_interval: 10          # 保存间隔（epoch）
  keep_last_k: 3             # 保留最近 k 个检查点

# 可视化配置
visualize:
  enabled: false
  vis_dir: ./visualizations
  num_vis: 10                # 可视化样本数

# 设备配置
device: cuda
seed: 42

# 数据增强（可选）
augmentation:
  enabled: true
  random_flip: 0.5
  random_crop: false
  color_jitter: 0.2

